# Prompt: Mobile App - Verification & Testing

**Context:**
The Mobile App (`mobile-app`) is feature-complete (Dashboard, Manual Trigger, Emergency, Profile Switcher), but needs verification of the Realtime logic and `school_id` isolation.

**Task:**
1.  **School ID Logic Verification:**
    *   Review the `AuthContext` and database queries in the mobile app code.
    *   Ensure that when a user logs in, their `school_id` is correctly retrieved and stored in the session/state.
    *   Verify that all Realtime channel subscriptions use this `school_id` (e.g., `school:${school_id}`).
    *   Verify that `AsyncStorage` caching respects the user/school context (clears on logout, or keys are namespaced).

2.  **Realtime Broadcast Testing:**
    *   Create a simple test plan or script (e.g., a small Node.js script using `supabase-js`) that subscribes to the `school:TestSchool` channel and logs incoming messages.
    *   Use this script to verify that the Mobile App's "Manual Trigger", "Emergency", and "Profile Switcher" actions correctly broadcast the expected JSON payloads.
    *   Example payload check: `{ "type": "manual_ring", "file": "bell.mp3" }`.

**References:**
*   `mobile-app/src`
*   `status1.md` (Section 2 - Mobile App)
